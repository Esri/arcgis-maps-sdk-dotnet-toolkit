<ResourceDictionary x:Class="Esri.ArcGISRuntime.Toolkit.FeatureFormWinUIResources"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="using:Esri.ArcGISRuntime.Toolkit"
                    xmlns:internal="using:Esri.ArcGISRuntime.Toolkit.Internal"
                    xmlns:controls="using:Esri.ArcGISRuntime.Toolkit.UI.Controls"
                    xmlns:primitives="using:Esri.ArcGISRuntime.Toolkit.Primitives"
                    xmlns:forms="using:Esri.ArcGISRuntime.Mapping.FeatureForms"
                    >
    <ResourceDictionary.MergedDictionaries>
	    <local:FeatureFormResources />
    </ResourceDictionary.MergedDictionaries>

    <internal:VisibilityConverter x:Key="FeatureFormViewVisibilityConverter"/>
    <Style TargetType="controls:FeatureFormView">
    <Setter Property="Template">
      <Setter.Value>
                <ControlTemplate TargetType="controls:FeatureFormView">
                    <Border Background="{TemplateBinding Background}"
          BorderBrush="{TemplateBinding BorderBrush}"
          BorderThickness="{TemplateBinding BorderThickness}"
          Padding="{TemplateBinding Padding}"
          Margin="{TemplateBinding Margin}"
          MinWidth="{TemplateBinding MinWidth}"
          MaxWidth="{TemplateBinding MaxWidth}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Text="{x:Bind FeatureForm.Title, Mode=OneWay}" Style="{StaticResource FeatureFormViewHeaderStyle}"
                            Visibility="{x:Bind local:FeatureFormResources.VisibilityConverter(FeatureForm.Title), Mode=OneWay}" />
                            <ScrollViewer VerticalScrollBarVisibility="{TemplateBinding VerticalScrollBarVisibility}"  Grid.Row="1" x:Name="FeatureFormContentScrollViewer">
                                <StackPanel>
                                    <primitives:FormElementItemsControl ItemsSource="{x:Bind FeatureForm.Elements, Mode=OneWay}" Margin="0,10" x:Name="ItemsView" IsTabStop="False">
                                        <primitives:FormElementItemsControl.FieldFormElementTemplate>
                                            <DataTemplate x:DataType="forms:FieldFormElement">
                                                <primitives:FieldFormElementView Element="{x:Bind}" />
                                            </DataTemplate>
                                        </primitives:FormElementItemsControl.FieldFormElementTemplate>
                                        <primitives:FormElementItemsControl.TextFormElementTemplate>
                                            <DataTemplate x:DataType="forms:TextFormElement">
                                                <primitives:TextFormElementView Element="{x:Bind}" />
                                            </DataTemplate>
                                        </primitives:FormElementItemsControl.TextFormElementTemplate>
                                        <primitives:FormElementItemsControl.GroupFormElementTemplate>
                                            <DataTemplate x:DataType="forms:GroupFormElement">
                                                <StackPanel Visibility="{x:Bind IsVisible, Mode=OneWay}" >
                                                    <Expander HorizontalAlignment="Stretch" IsExpanded="{x:Bind InitialState, Converter={StaticResource ExpandStateConverter}, Mode=OneTime}" HorizontalContentAlignment="Stretch">
                                                        <Expander.Header>
                                                            <StackPanel VerticalAlignment="Center">
                                                                <TextBlock Text="{x:Bind Label, Mode=OneWay}" Visibility="{x:Bind local:FeatureFormResources.VisibilityConverter(Label), Mode=OneWay}" Style="{StaticResource FeatureFormViewTitleStyle}" />
                                                                <TextBlock Text="{x:Bind Description, Mode=OneWay}" Visibility="{x:Bind local:FeatureFormResources.VisibilityConverter(Description), Mode=OneWay}" Style="{StaticResource FeatureFormViewCaptionStyle}" />
                                                            </StackPanel>
                                                        </Expander.Header>
                                                        <primitives:FormElementItemsControl ItemsSource="{x:Bind Elements}" IsTabStop="False">
                                                            <primitives:FormElementItemsControl.FieldFormElementTemplate>
                                                                <DataTemplate x:DataType="forms:FieldFormElement">
                                                                    <primitives:FieldFormElementView Element="{x:Bind}" />
                                                                </DataTemplate>
                                                            </primitives:FormElementItemsControl.FieldFormElementTemplate>
                                                            <primitives:FormElementItemsControl.TextFormElementTemplate>
                                                                <DataTemplate x:DataType="forms:TextFormElement">
                                                                    <primitives:TextFormElementView Element="{x:Bind}" />
                                                                </DataTemplate>
                                                            </primitives:FormElementItemsControl.TextFormElementTemplate>
                                                        </primitives:FormElementItemsControl>
                                                    </Expander>
                                                </StackPanel>
                                            </DataTemplate>
                                        </primitives:FormElementItemsControl.GroupFormElementTemplate>
                                    </primitives:FormElementItemsControl>
                                    <primitives:AttachmentsFormElementView Element="{x:Bind FeatureForm.DefaultAttachmentsElement, Mode=OneWay}" Visibility="{x:Bind local:FeatureFormResources.VisibilityConverter(FeatureForm.DefaultAttachmentsElement), Mode=OneWay}" />
                                </StackPanel>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>
